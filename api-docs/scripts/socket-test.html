<script src="/socket.io/socket.io.js"></script>
<script>
    let socket = io();

    let button = document.getElementById('TestButton');
    let input = document.getElementById('name');
    let roomCode = document.getElementById('roomCode');

    button.addEventListener('click', () => {
        fetch('http://localhost:3000/party/join', {
            method: 'PATCH',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                partyId: roomCode.value,
                guestName: input.value
            })
        })
        socket.emit('join-room', roomCode.value);
    })

    socket.on('user-joined-party', message => {
        console.log(message);
        socket.emit('test')
    }) 

    socket.on('activity-started', message => {
        console.log(new Date(Date.now()));
        console.log(message);
    });
</script>